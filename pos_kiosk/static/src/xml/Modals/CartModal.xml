<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">

    <t t-name="CartModal" owl="1">
        <div class="fixed bottom-0 inset-x-0 z-50">
            <div
                class="w-full h-96 kiosk:h-[40rem] border-t border-gray-200 bottom-0 bg-white rounded-t-xl flex-col justify-start items-start inline-flex"
            >
                <div class="self-stretch pl-8 justify-start items-center flex">
                    <div
                        class="text-justify text-gray-600 text-lg font-semibold leading-7"
                    >
                        Your shop cart
                    </div>
                    <div class="p-6 justify-start items-center gap-2 flex">
                        <div
                            class="p-2 bg-gray-100 rounded-full justify-start items-center gap-2 flex"
                            t-on-click="cancel"
                        >
                            <i class="fa fa-times w-6 h-6 relative p-[7px]" />
                        </div>
                    </div>
                </div>

                <div
                    class="self-stretch h-52 max-h-[45%] kiosk:h-auto kiosk:max-h-[65%] flex-col justify-start items-start flex overscroll-contain overflow-y-auto"
                >
                    <t t-foreach="orderlines" t-as="orderline" t-key="orderline.id">
                        <div
                            class="self-stretch px-8 py-4 justify-between items-center inline-flex"
                        >
                            <div class="justify-start items-center gap-8 flex">
                                <img
                                    class="w-16 h-auto relative rounded-lg"
                                    t-att-src="productImageURL(orderline.product)"
                                />
                                <div
                                    class="flex-col justify-center items-start inline-flex"
                                >
                                    <div
                                        class="text-justify text-gray-900 text-base font-normal leading-normal"
                                        t-esc="orderline.get_full_product_name()"
                                    />
                                    <div
                                        class="justify-center items-center gap-2 inline-flex"
                                    >
                                        <div
                                            class="text-justify text-gray-800 text-sm font-bold leading-tight"
                                            t-esc="getProductPrice(orderline.product)"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div
                                class="flex-col justify-start items-center gap-2 inline-flex"
                            >
                                <div
                                    class="rounded-lg border border-gray-300 justify-start items-center inline-flex"
                                >
                                    <div
                                        class="w-12 h-12 relative rounded-tr-xl rounded-br-xl"
                                        t-on-click="removeQuantity(orderline)"
                                    >
                                        <div
                                            class="w-12 h-12 py-4 opacity-50 rounded-tl-xl rounded-bl-xl justify-center items-center flex"
                                        >
                                            <i class="fa fa-minus" />
                                        </div>
                                    </div>
                                    <div
                                        class="w-12 h-12 px-4 py-2 justify-center items-center gap-2 flex"
                                    >
                                        <div
                                            class="text-center text-gray-900 text-xl font-bold leading-7"
                                        ><t t-esc="orderline.quantity" /></div>
                                    </div>
                                    <div
                                        class="w-12 h-12 relative rounded-tr-xl rounded-br-xl"
                                        t-on-click="addQuantity(orderline)"
                                    >
                                        <div
                                            class="w-12 h-12 py-4 opacity-50 rounded-tl-xl rounded-bl-xl justify-center items-center flex"
                                        >
                                            <i class="fa fa-plus" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
                <div
                    class="w-full h-36 p-8 flex-col justify-start items-start gap-2 inline-flex bottom-0 fixed"
                >
                    <div
                        class="self-stretch h-20 px-8 bg-red-500 rounded-lg justify-between items-center inline-flex"
                        t-on-click="openPaymentScreen"
                    >
                        <div
                            class="w-96 flex-col justify-start items-start inline-flex"
                        >
                            <div
                                class="text-justify text-gray-50 text-base font-semibold leading-normal"
                            ><t t-esc="getTotalItens()" /> Items</div>
                            <div
                                class="text-justify text-gray-50 text-lg font-semibold leading-7"
                            ><t t-esc="getTotalValue()" /></div>
                        </div>
                        <div class="justify-start items-center gap-2 flex">
                            <div
                                class="text-justify text-gray-50 text-xl font-semibold leading-7"
                            >Finalize Order</div>
                            <i class="fa fa-arrow-right text-xl" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
