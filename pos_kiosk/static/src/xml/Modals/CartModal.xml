<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">

    <t t-name="CartModal" owl="1">
        <div class="fixed bottom-0 inset-x-0 z-50">
            <div class="container">
                <div class="heading flex justify-between w-full">
                    <div class="title flex flex-row items-center">
                        Seu carrinho
                    </div>
                    <div class="close-button w-6 h-6 relative" t-on-click="cancel">
                        <i class="fa fa-times" />
                    </div>
                </div>


                <div class="product-details overscroll-contain max-h-[80%] overflow-y-auto">
                    <t t-foreach="orderlines" t-as="orderline" t-key="orderline.id">
                        <div class="product-container">
                            <img class="product-image" t-att-src="productImageURL(orderline.product)" />
                            <div class="product-text">
                                <div class="product-name" t-esc="orderline.get_full_product_name()"></div>
                                <div class="product-prices">
                                    <div class="original-price" t-esc="getProductPrice(orderline.product)"></div>
                                </div>
                            </div>
                            <div class="quantity-container">
                                <div class="quantity-button" t-on-click="removeQuantity(orderline)">
                                    <i class="fa fa-minus"></i>
                                </div>
                                <div class="item-number" t-esc="orderline.quantity"></div>
                                <div class="quantity-button" t-on-click="addQuantity(orderline)">
                                    <i class="fa fa-plus"></i>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
                <t t-if="checkCurrentScreen()">
                    <div class="total-and-checkout">
                        <div class="total-and-checkout-container bg-red-500" t-on-click="openPaymentScreen">
                            <div class="total-and-price-text">
                                <div class="total-items-text"><t t-esc="getTotalItens()" /> Itens</div>
                                <div class="total-price-text"><t t-esc="getTotalValue()" /></div>
                            </div>
                            <div class="checkout-button">
                                <div class="checkout-text">Finalizar</div>
                            </div>
                        </div>
                    </div>
                </t>
            </div>
        </div>
    </t>

</templates>
